!function(){class e extends THREE.Loader{constructor(e){super(e)}load(t,r,e,n){const a=this;var o=new THREE.FileLoader(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(t,function(e){try{r(a.parse(e))}catch(e){n?n(e):console.error(e),a.manager.itemError(t)}},e,n)}parse(t){var u=function(t){if("string"!=typeof t)return t;var r=new Uint8Array(t.length);for(let e=0;e<t.length;e++)r[e]=255&t.charCodeAt(e);return r.buffer||r}(t);if(function(e){var t=new DataView(e),e=84+50*t.getUint32(80,!0);if(e!==t.byteLength){var r=[115,111,108,105,100];for(let e=0;e<5;e++)if(function(r,n,a){for(let e=0,t=r.length;e<t;e++)if(r[e]!==n.getUint8(a+e))return;return 1}(r,t,e))return}return 1}(u)){var g=new DataView(u),E=g.getUint32(80,!0);let r,n,a,o=!1,i,l,s,f,t;for(let e=0;e<70;e++)1129270351==g.getUint32(e,!1)&&82==g.getUint8(e+4)&&61==g.getUint8(e+5)&&(o=!0,i=new Float32Array(3*E*3),l=g.getUint8(e+6)/255,s=g.getUint8(e+7)/255,f=g.getUint8(e+8)/255,t=g.getUint8(e+9)/255);var u=new THREE.BufferGeometry,c=new Float32Array(3*E*3),h=new Float32Array(3*E*3);for(let t=0;t<E;t++){var e,d=84+50*t,w=g.getFloat32(d,!0),p=g.getFloat32(4+d,!0),T=g.getFloat32(8+d,!0);o&&(e=g.getUint16(48+d,!0),a=0==(32768&e)?(r=(31&e)/31,n=(e>>5&31)/31,(e>>10&31)/31):(r=l,n=s,f));for(let e=1;e<=3;e++){var F=d+12*e,R=3*t*3+3*(e-1);c[R]=g.getFloat32(F,!0),c[1+R]=g.getFloat32(4+F,!0),c[2+R]=g.getFloat32(8+F,!0),h[R]=w,h[1+R]=p,h[2+R]=T,o&&(i[R]=r,i[1+R]=n,i[2+R]=a)}}return u.setAttribute("position",new THREE.BufferAttribute(c,3)),u.setAttribute("normal",new THREE.BufferAttribute(h,3)),o&&(u.setAttribute("color",new THREE.BufferAttribute(i,3)),u.hasColors=!0,u.alpha=t),u}{var o="string"!=typeof(u=t)?THREE.LoaderUtils.decodeText(new Uint8Array(u)):u,i=new THREE.BufferGeometry,l=/solid([\s\S]*?)endsolid/g,s=/facet([\s\S]*?)endfacet/g;let r=0;var t=/[\s]+([+-]?(?:\d*)(?:\.\d*)?(?:[eE][+-]?\d+)?)/.source,f=new RegExp("vertex"+t+t+t,"g"),v=new RegExp("normal"+t+t+t,"g"),A=[],H=[],b=new THREE.Vector3;let n,e=0,a=0;for(;null!==(n=l.exec(o));){for(var y=a,U=n[0];null!==(n=s.exec(U));){let e=0,t=0;for(var m=n[0];null!==(n=v.exec(m));)b.x=parseFloat(n[1]),b.y=parseFloat(n[2]),b.z=parseFloat(n[3]),t++;for(;null!==(n=f.exec(m));)A.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3])),H.push(b.x,b.y,b.z),e++,a++;1!==t&&console.error("THREE.STLLoader: Something isn't right with the normal of face number "+r),3!==e&&console.error("THREE.STLLoader: Something isn't right with the vertices of face number "+r),r++}var x=a-y;i.addGroup(y,x,e),e++}return i.setAttribute("position",new THREE.Float32BufferAttribute(A,3)),i.setAttribute("normal",new THREE.Float32BufferAttribute(H,3)),i}}}THREE.STLLoader=e}();
