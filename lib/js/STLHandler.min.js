class STLHandler{camera;renderer;controls;scene;initZoom=1;initLightColor=16777215;initColor=16614431;constructor(e,i,t){this.setConfig(t);t=document.getElementById(i);if(t){this.initCamera(t),this.initRenderer(t),this.initControl(),this.scene=new THREE.Scene,console.log(this.initColor),this.scene.add(new THREE.HemisphereLight(this.initLightColor,1e3));const o=this;(new THREE.STLLoader).load(e,function(e){var i=new THREE.MeshPhongMaterial({color:o.initColor,specular:100,shininess:100}),i=new THREE.Mesh(e,i),t=(o.scene.add(i),new THREE.Vector3),i=(e.computeBoundingBox(),e.boundingBox.getCenter(t),i.geometry.applyMatrix4((new THREE.Matrix4).makeTranslation(-t.x,-t.y,-t.z)),Math.max(e.boundingBox.max.x,e.boundingBox.max.y,e.boundingBox.max.z));o.camera.position.z=1.5*i;function n(){requestAnimationFrame(n),o.controls.update(),o.renderer.render(o.scene,o.camera)}n()})}}initCamera(e){this.camera=new THREE.OrthographicCamera(e.clientWidth/-2,e.clientWidth/2,e.clientHeight/2,e.clientHeight/-2),this.camera.zoom=this.initZoom,this.camera.updateProjectionMatrix()}initRenderer(e){this.renderer=new THREE.WebGLRenderer({antialias:!0,alpha:!0}),this.renderer.setSize(e.clientWidth,e.clientHeight),this.renderer.setPixelRatio(e.clientWidth/e.clientHeight),e.appendChild(this.renderer.domElement)}initControl(){this.controls=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controls.enableDamping=!0,this.controls.rotateSpeed=.5,this.controls.dampingFactor=.1,this.controls.enableZoom=!0}setConfig(e){for(const i in e)switch(console.log(i),i){case"initZoom":this.initZoom=e[i];break;case"initColor":this.initColor=e[i]}}}
